Version 1
SubGoalCombiner SGC_AND
INITSECTION

KBSECTION
//REGION DRAGONSOUL_TRANSFORMATIONS & ALIGNMENT HANDLER

IF
SkillCast(_Char,"Shout_DragonSoul_Pep", _, _)
AND
ObjectGetFlag(_Char, "DS_Align_G", _IsFlagOn)
AND
_IsFlagOn == 1
THEN
    ApplyStatus(_Char, "FULL_DRAGON_SOUL_G", -1.0);

IF
SkillCast(_Char,"Shout_DragonSoul_Pep", _, _)
AND
ObjectGetFlag(_Char, "DS_Align_E", _IsFlagOn)
AND
_IsFlagOn == 1
AND
CharacterGetEquippedItem(_Char,"Weapon",(ITEMGUID)_Weapon)
AND
CharacterGetEquippedItem(_Char,"Shield",(ITEMGUID)_Shield)
THEN
    ApplyStatus(_Char, "FULL_DRAGON_SOUL_E", -1.0);
    PlayAnimation(_Char,"transform_from_lizard");
    CharacterUnequipItem(_Char,_Shield);
    CharacterUnequipItem(_Char,_Weapon);


IF
SkillCast(_Char,"Shout_DragonSoul_Align_G", _, _)
THEN
    ObjectSetFlag(_Char, "DS_Align_G");
    ObjectClearFlag(_Char, "DS_Align_E");
    DisplayText(_Char, "<font color='#00FF00' size='50'>YOU ARE NOW A GUARDIAN DRAON</font>");
    SetTag(_Char, "DragonSoul Path Chosen"); 

/*
PROC
Proc_RemoveWeapons((CHARACTERGUID)_Char)
AND
CharacterGetEquippedItem(_Char,"Weapon",(ITEMGUID)_Weapon)
THEN
ItemRemove(_Weapon);


IF
CharacterStatusRemoved(_Char,"PERMANENT_BLIND",_)
AND
GetItemForItemTemplateInInventory(_Char,"EQ_Clothing_UNIQUE_Blindfolds_A_60884e3d-45cb-4849-b35e-d24064386b9f",_Item)
AND
CharacterGetEquippedItem(_Char,"Helmet",_Item)
AND
HasActiveStatus(_Char,"PERMANENT_BLIND",0)
THEN
ApplyStatus(_Char,"PERMANENT_BLIND",-1.0,1);
*/

IF
 SkillCast(_Char,"Shout_DragonSoul_Align_E", _, _)
THEN
 ObjectSetFlag(_Char, "DS_Align_E");
 ObjectClearFlag(_Char, "DS_Align_G");
 DisplayText(_Char, "<font color='#FF0000' size='50'>YOU ARE NOW A SUBJUGATOR DRAON</font>");
 SetTag(_Char, "DragonSoul Path Chosen"); 

//END_REGION


EXITSECTION

ENDEXITSECTION
